{% from "govuk/components/breadcrumbs/macro.njk" import govukBreadcrumbs %}
{% extends "template.njk" %}

{% block content %}
<div class="app-width-container">
    <div class="govuk-grid-row">{{ govukBreadcrumbs({ items: breadcrumbs }) }}</div>
    <main class="govuk-main-wrapper" id="main-content" role="main">
        <div class="govuk-grid-row">
            <div class="govuk-grid-column-one-third">
                <nav class="app-subnav" aria-labelledby="app-subnav-heading">
                    <h2 class="govuk-visually-hidden" id="app-subnav-heading">Compliance Navigation</h2>

                    <h3 class="govuk-heading-s govuk-!-margin-bottom-1">General</h3>
                    <ul class="govuk-list govuk-!-margin-bottom-6">
                        <li>
                            <a class="govuk-link{% if currentPath == '/compliance' %} app-subnav__link--current{% endif %}" href="/compliance">Overview</a>
                        </li>
                    </ul>

                    <h3 class="govuk-heading-s govuk-!-margin-bottom-1">Compliance Rules</h3>
                    <ul class="govuk-list govuk-!-margin-bottom-6">
                        {% for rule in sideMenu.rules %}
                        <li>
                            <a class="govuk-link{% if currentPath == '/compliance/rule/' + rule.id %} app-subnav__link--current{% endif %}" href="/compliance/rule/{{ rule.id }}">[{{ rule.id }}] {{ rule.name }}</a>
                        </li>
                        {% endfor %}
                    </ul>

                    <h3 class="govuk-heading-s govuk-!-margin-bottom-1">Resource Inventories</h3>
                    <ul class="govuk-list">
                        {% for view in sideMenu.views %}
                        <li>
                            <a class="govuk-link{% if currentPath == '/compliance/view/' + view.id %} app-subnav__link--current{% endif %}" href="/compliance/view/{{ view.id }}">{{ view.name }}</a>
                        </li>
                        {% endfor %}
                    </ul>
                </nav>
            </div>

            <div class="govuk-grid-column-two-thirds">
                <h1 class="govuk-heading-l">{{ policy_title }}</h1>
                <p class="govuk-body-l">{{ policy_description }}</p>
                {% block policy_content %}{% endblock %}
            </div>
        </div>
    </main>
</div>
{% endblock %}
